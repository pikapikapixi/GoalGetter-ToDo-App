"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("reflect-metadata");
const inversify_1 = require("inversify");
const server_1 = require("./server");
const logger_1 = require("./utils/logger");
const config_service_1 = require("./config/config.service");
async function bootstrap() {
    logger_1.logger.info('Resolving dependencies');
    const container = new inversify_1.Container({
        autoBindInjectable: true,
    });
    container.bind(logger_1.Logger).toConstantValue(logger_1.logger);
    container.bind(config_service_1.ConfigProvider).toConstantValue(config_service_1.configProvider);
    const server = await container
        .resolve(server_1.Server)
        .start();
    process.on('SIGINT', () => server.stop());
    process.on('SIGTERM', () => server.stop());
}
bootstrap();
//# sourceMappingURL=main.js.map